(function(t){function e(e){for(var r,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&m.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={app:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var r=a("8a23"),n=a.n(r);n.a},1042:function(t,e,a){},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=s(t);return a(e)}function s(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=s,t.exports=n,n.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("8c4f"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{class:{"dark-navigation":!t.isLightTheme,"light-navigation":t.isLightTheme},attrs:{dark:!t.isLightTheme,app:""},scopedSlots:t._u([{key:"append",fn:function(){return[r("div",{staticClass:"pa-2 credits"},[r("small",[t._v(" © 2020 "),r("br"),t._v("( Brina Jehart & Janez Sedeljsak ) ")])])]},proxy:!0}])},[r("v-list",{attrs:{dense:""}},[r("v-list-item",{staticClass:"pa-0 ma-0"},[r("v-list-item-content",{staticClass:"pa-0 ma-0"},[t.isLightTheme?r("v-img",{attrs:{src:a("b68a"),"aspect-ratio":"2.26"}}):r("v-img",{attrs:{src:a("da53"),"aspect-ratio":"2.26"}})],1)],1),r("v-divider",{staticStyle:{"margin-top":"10px"}}),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.changeNav("/tasks/calendar")},mousedown:function(e){return"button"in e&&1!==e.button?null:t.changeNav("/tasks/calendar",!0)}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-calendar-today")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Assignment - Calendar")])],1)],1),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.changeNav("/tasks/list")},mousedown:function(e){return"button"in e&&1!==e.button?null:t.changeNav("/tasks/list",!0)}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-view-list")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Assignment - List")])],1)],1),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.changeNav("/tasks/create")},mousedown:function(e){return"button"in e&&1!==e.button?null:t.changeNav("/tasks/create",!0)}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-plus-circle")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Add Assignment")])],1)],1),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.changeNav("/profile")},mousedown:function(e){return"button"in e&&1!==e.button?null:t.changeNav("/profile",!0)}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-account-circle")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Profile")])],1)],1),r("v-list-item",{attrs:{link:""},on:{click:function(e){return t.registerNewUser()}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-account-plus")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Register New User")])],1)],1),r("v-divider",{staticStyle:{"margin-top":"10px"}}),r("v-list-item",{on:{click:function(e){return t.logout()}}},[r("v-list-item-action",[r("v-icon",[t._v("mdi-lock")])],1),r("v-list-item-content",[r("v-list-item-title",[t._v("Sign Out")])],1)],1)],1)],1),r("v-app-bar",{attrs:{app:"",color:"indigo darken-2",dark:""}},[r("v-toolbar-title",{staticClass:"ma-2"},[t._v(t._s(t.$route.name))]),r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),r("v-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Go Backwards",expression:"'Go Backwards'"}]},[r("v-icon",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("mdi-undo")])],1),r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),r("v-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Go Forward",expression:"'Go Forward'"}]},[r("v-icon",{on:{click:function(e){return t.$router.go(1)}}},[t._v("mdi-redo")])],1),r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),r("v-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Toggle theme",expression:"'Toggle theme'"}]},[r("v-icon",{on:{click:function(e){return t.toggleTheme()}}},[t._v(t._s(t.isLightTheme?"mdi-brightness-7":"mdi-brightness-3"))])],1),r("v-divider",{staticClass:"mx-3",attrs:{vertical:""}}),r("v-spacer"),r("div",[r("v-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"View profile",expression:"'View profile'"}],staticClass:"user-avatar",attrs:{color:t.profileImage?"transparent":"red"},on:{click:function(e){return t.changeNav("/profile")},mousedown:function(e){return"button"in e&&1!==e.button?null:t.changeNav("/profile",!0)}}},[t.profileImage?r("img",{attrs:{src:t.profileImage,alt:"Google"},on:{error:function(e){t.profileImage=null}}}):r("span",{staticClass:"white--text headline"},[t._v(t._s(t._f("genavatar")(t.user)))])]),r("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t._f("fullname")(t.user)))])],1)],1),r("v-content",[r("v-container",{staticClass:"fill-height",attrs:{fluid:"",id:"app"}},[r("router-view")],1)],1),t.loading?r("bj-loading"):t._e()],1)},i=[],o=(a("96cf"),a("1da1")),c=a("53ca"),l=a("6821"),u=a.n(l),d={name:"App",data:function(){return{user:null,isLightTheme:!0,loading:!1,isGoogleAuth:!1,profileImage:null}},created:function(){this.setCurrentUser();var t=JSON.parse(this.$store.getters.theme);t&&(this.isLightTheme=t.light),this.getAvatarUrl()},watch:{$route:function(){this.setCurrentUser()},user:function(){this.getAvatarUrl()}},methods:{toggleTheme:function(){var t=this;this.$store.dispatch("theme",{light:!this.isLightTheme}).then((function(e){t.isLightTheme=e.light}))},getAvatarUrl:function(){if(this.user){var t=this.user.email,e="http://www.gravatar.com/avatar/".concat(u()(t),".jpg?s=80&d=undefined");this.profileImage=e}},setCurrentUser:function(){var t=this.$store.getters.user;t&&(this.user=Object(c["a"])(t)!=Object(c["a"])({})?JSON.parse(t):t,this.isGoogleAuth=!!this.user.isGoogleAuth)},logout:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$store.dispatch("logout").then((function(){e.$router.push("/login"),e.loading=!1})).catch((function(){e.loading=!1,e.$swal.fire("Unknown error occured!","","error")}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),changeNav:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.event.preventDefault(),e?window.open(t,"_blank"):this.$router.currentRoute.path!=t&&this.$router.push(t)},registerNewUser:function(){var t=this;this.$swal.fire({title:"Are you sure?",text:"You will be logged out of your current account!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(e){e.value&&t.$store.dispatch("logout").then((function(){t.$router.push("/register")}))}))}}},m=d,v=(a("034f"),a("2877")),p=a("6544"),f=a.n(p),g=a("7496"),h=a("40dc"),b=a("8212"),k=a("a523"),w=a("a75b"),x=a("ce7e"),_=a("132d"),y=a("adda"),C=a("8860"),j=a("da13"),S=a("1800"),T=a("5d23"),V=a("f774"),R=a("2fa4"),O=a("2a7f"),$=Object(v["a"])(m,s,i,!1,null,null,null),A=$.exports;f()($,{VApp:g["a"],VAppBar:h["a"],VAvatar:b["a"],VContainer:k["a"],VContent:w["a"],VDivider:x["a"],VIcon:_["a"],VImg:y["a"],VList:C["a"],VListItem:j["a"],VListItemAction:S["a"],VListItemContent:T["a"],VListItemTitle:T["c"],VNavigationDrawer:V["a"],VSpacer:R["a"],VToolbarTitle:O["a"]});a("d3b7");var D=a("2f62"),I=a("bc3a"),P=a.n(I),E=a("bf57");r["a"].use(D["a"]);var N=new D["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:localStorage.getItem("user")||null,theme:localStorage.getItem("theme")||JSON.stringify({light:!0})},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e.token,t.user=e.user},auth_error:function(t){t.status="error"},auth_logout:function(t){t.status="",t.token="",t.user=""},set_theme:function(t,e){t.theme=e},auth_update:function(t,e){t.data=e}},actions:{theme:function(t,e){var a=t.commit;return new Promise((function(t,r){try{localStorage.setItem("theme",JSON.stringify(e)),a("set_theme",e),t(e)}catch(n){r(n)}}))},googleAuth:function(t,e){var a=t.commit;return new Promise((function(t,r){a("auth_request"),P()({url:"".concat(E["URI"],"/auth/google"),data:e,method:"POST"}).then((function(e){var r=e.data;localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),P.a.defaults.headers.common["Authorization"]="Token ".concat(r.token),a("auth_success",r),t(e)})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(t)}))}))},updateUser:function(t,e){var a=t.commit;return new Promise((function(t,r){P()({url:"".concat(E["URI"],"/auth/update"),data:e,method:"POST"}).then((function(e){var r=e.data;localStorage.setItem("user",JSON.stringify(r.user)),a("auth_update",r.user),t(e)})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(t)}))}))},login:function(t,e){var a=t.commit;return new Promise((function(t,r){a("auth_request"),P()({url:"".concat(E["URI"],"/auth/login"),data:e,method:"POST"}).then((function(e){var r=e.data;localStorage.setItem("token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),P.a.defaults.headers.common["Authorization"]="Token ".concat(r.token),a("auth_success",r),t(e)})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("user"),r(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,a){P()({url:"".concat(E["URI"],"/auth/logout"),method:"POST"}).then((function(){e("auth_logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),delete P.a.defaults.headers.common["Authorization"],t()})).catch((function(){e("auth_logout"),localStorage.removeItem("token"),localStorage.removeItem("user"),delete P.a.defaults.headers.common["Authorization"],a()}))}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},user:function(t){return t.user},theme:function(t){return t.theme}}}),M=(a("45fc"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"no-back-wrapper"},[r("div",{staticClass:"no-back-container login-form"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"2"}}),r("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[r("v-form",{ref:"form",staticStyle:{width:"100%"},attrs:{align:"center",justify:"center"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card",{staticClass:"elevation-0 base-form-card",staticStyle:{"margin-bottom":"20px"}},[r("v-toolbar",{attrs:{color:"transparent",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Sign In")]),r("v-spacer")],1),r("v-card-text",[r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Username",name:"username",type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),r("v-text-field",{attrs:{label:"Password",name:"password",type:"password",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("v-card-actions",[r("a",{staticClass:"form-link",staticStyle:{"text-decoration":"underline"},on:{click:t.forgotPassword}},[t._v("Forgot Password?")]),r("v-spacer"),r("v-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Sign in with google",expression:"'Sign in with google'"}],staticClass:"google-login-btn mx-3",on:{click:function(e){return t.googleLogin()}}},[r("img",{attrs:{src:a("eebb"),alt:"Google"}})]),r("v-btn",{attrs:{color:"indigo white-text"},on:{click:function(e){return t.login()}}},[t._v("Sign In")])],1),r("v-card-actions",[r("router-link",{staticClass:"form-link",staticStyle:{"margin-left":"15px"},attrs:{to:"/register"}},[t._v("Create a new account")])],1)],1)],1),r("v-img",{staticClass:"ma-4",attrs:{src:a("b68a"),"aspect-ratio":"2.26"}})],1)],1)],1),t._m(0),t.loading?r("bj-loading"):t._e()],1)}),U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-back-credits white-text pa-3"},[a("small",[t._v("© 2020 ( Brina Jehart & Janez Sedeljsak )")])])}],F=(a("4d63"),a("ac1f"),a("25f0"),a("841c"),a("5530")),Y=(a("99af"),a("3ca3"),a("ddb0"),a("2b3d"),a("d4ec")),G=a("bee2"),L=a("ec26");P.a.interceptors.response.use((function(t){return t}),(function(t){return console.log(t),window.location="/login?erorr=1",t}));var q=function(){function t(){Object(Y["a"])(this,t)}return Object(G["a"])(t,null,[{key:"getMyTasks",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){P.a.get("".concat(E["URI"],"/tasks")).then(t).catch(e)})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"registerUser",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/auth/create"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"pickerRetriver",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.get("".concat(E["URI"],"/picker/").concat(e)).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTaskData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.get("".concat(E["URI"],"/task/").concat(e)).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTaskDetails",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.get("".concat(E["URI"],"/task/detail/").concat(e)).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"deleteTask",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.delete("".concat(E["URI"],"/task/").concat(e)).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getMyTasksForDateRange",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/tasks/range"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"generateTask",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/task/create"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updateTask",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){P.a.put("".concat(E["URI"],"/task/").concat(a),e).then(t).catch(r)})));case 1:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"actiaveAccount",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/auth/econfirm"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendPasswordResetLink",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/auth/send-reset"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updatePassword",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.post("".concat(E["URI"],"/auth/pass-reset"),e).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getOrCreateChat",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,a){P.a.get("".concat(E["URI"],"/chat/").concat(e)).then(t).catch(a)})));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sendMessage",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){P.a.post("".concat(E["URI"],"/chat/").concat(a,"/send"),e).then(t).catch(r)})));case 1:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"retriveNewMessages",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){P.a.post("".concat(E["URI"],"/chat/").concat(a,"/new"),e).then(t).catch(r)})));case 1:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"generateWeeklyReport",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:P()({url:"".concat(E["URI"],"/render/pdf/weekly?start=").concat(e.start,"&end=").concat(e.end),method:"GET",responseType:"blob"}).then((function(t){var e=Object(L["a"])(),a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","brainjet-weekly-".concat(e,".pdf")),document.body.appendChild(r),r.click()}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"generateTaskReport",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:P()({url:"".concat(E["URI"],"/render/pdf/task?task_id=").concat(e.id),method:"GET",responseType:"blob"}).then((function(t){var e=Object(L["a"])(),a=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=a,r.setAttribute("download","brainjet-task-".concat(e,".pdf")),document.body.appendChild(r),r.click()}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),B={data:function(){return{form:{username:"",password:""},loading:!1,valid:!0}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.getUrlParam("uuid")){t.next=6;break}return e=this.getUrlParam("uuid"),t.next=4,q.actiaveAccount({uuid:e});case 4:a=t.sent,200==a.status&&(a.data.ok?this.$swal.fire("Success!",a.data.message,"success"):this.$swal.fire(a.data.error,"","error"));case 6:this.getUrlParam("error")&&this.$swal.fire("A runtime error occured in the app!","","error");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{login:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.valid){e.next=3;break}return t.$swal.fire("Fill out the form!","...","warning"),e.abrupt("return");case 3:return t.loading=!0,e.next=6,t.$store.dispatch("login",Object(F["a"])({},t.form)).then((function(){return t.$router.push("/tasks/list")})).catch((function(){t.loading=!1,t.$swal.fire("Failed to authenticate!","","error")}));case 6:case"end":return e.stop()}}),e)})))()},googleLogin:function(){var t=this;this.$gAuth.signIn().then(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$store.dispatch("googleAuth",Object(F["a"])({},a.getBasicProfile())).then((function(){return t.$router.push("/tasks/list")})).catch((function(){t.loading=!1,t.$swal.fire("Failed to authenticate!","","error")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},forgotPassword:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.form.username,a){e.next=4;break}return t.$swal.fire("Insert username!","A password reset link will be sent to your email account!","warning"),e.abrupt("return");case 4:return e.next=6,q.sendPasswordResetLink({username:a,uri:window.location.origin});case 6:r=e.sent,200==r.status&&t.$swal.fire("Success!",r.data.message,"success");case 8:case"end":return e.stop()}}),e)})))()},getUrlParam:function(t){if(t=new RegExp("[?&]"+encodeURIComponent(t)+"=([^&]*)").exec(location.search))return decodeURIComponent(t[1])}}},z=B,J=a("8336"),W=a("b0af"),H=a("99d9"),Z=a("62ad"),K=a("4bd4"),Q=a("0fd9"),X=a("8654"),tt=a("71d9"),et=Object(v["a"])(z,M,U,!1,null,null,null),at=et.exports;f()(et,{VAvatar:b["a"],VBtn:J["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Z["a"],VForm:K["a"],VImg:y["a"],VRow:Q["a"],VSpacer:R["a"],VTextField:X["a"],VToolbar:tt["a"],VToolbarTitle:O["a"]});var rt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"no-back-wrapper"},[r("div",{staticClass:"no-back-container register-form"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"2"}}),r("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[r("v-form",{ref:"form",staticStyle:{width:"100%"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card",{staticClass:"elevation-0 base-form-card",staticStyle:{"margin-bottom":"20px","box-shadow":"none"}},[r("v-toolbar",{attrs:{color:"transparent",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Sign Up")]),r("v-spacer")],1),r("v-card-text",[r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Name",name:"login",type:"text",required:""},model:{value:t.form.first_name,callback:function(e){t.$set(t.form,"first_name",e)},expression:"form.first_name"}}),r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Surname",name:"login",type:"text",required:""},model:{value:t.form.last_name,callback:function(e){t.$set(t.form,"last_name",e)},expression:"form.last_name"}}),r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Username",name:"login",type:"text",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),r("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Email",name:"login",type:"email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),r("v-text-field",{attrs:{id:"password",rules:[function(t){return!!t||"Item is required"}],label:"Password",name:"password",type:"password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("v-card-actions",[r("router-link",{staticClass:"form-link",attrs:{to:"/login"}},[t._v("Already have an account?")]),r("v-spacer"),r("v-btn",{attrs:{color:"indigo white-text"},on:{click:function(e){return t.register()}}},[t._v("Sign Up")])],1)],1)],1),r("v-img",{attrs:{src:a("b68a"),"aspect-ratio":"2.26"}})],1)],1)],1),t._m(0),t.loading?r("bj-loading"):t._e()],1)},nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-back-credits white-text pa-3"},[a("small",[t._v("© 2020 ( Brina Jehart & Janez Sedeljsak )")])])}],st={data:function(){return{form:{first_name:"",last_name:"",email:"",username:"",password:""},valid:!0,loading:!1}},methods:{register:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.valid){t.next=3;break}return this.$swal.fire("Fill out the form!","...","warning"),t.abrupt("return");case 3:return this.loading=!0,t.next=6,q.registerUser(Object(F["a"])({},this.form,{uri:window.location.origin}));case 6:e=t.sent,e&&this.$swal.fire("Success!",e.data.message,"success").then((function(){a.$router.push("/login")})),this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},it=st,ot=Object(v["a"])(it,rt,nt,!1,null,null,null),ct=ot.exports;f()(ot,{VBtn:J["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Z["a"],VForm:K["a"],VImg:y["a"],VRow:Q["a"],VSpacer:R["a"],VTextField:X["a"],VToolbar:tt["a"],VToolbarTitle:O["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("v-container",{staticClass:"pa-5"},[a("v-row",{staticClass:"action-panel",staticStyle:{"margin-bottom":"10px"}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-row",{staticClass:"pa-2"},[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"10px 10px 0 15px"}},[a("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),a("span",[t._v(t._s(" Actions: "))])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add New Assignment",expression:"'Add New Assignment'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-1"},on:{click:function(e){return t.$router.push("/tasks/create")}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Open List View",expression:"'Open List View'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-2"},on:{click:function(e){return t.$router.push("/tasks/list")}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-view-list")])],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Generate Weekly PDF Report",expression:"'Generate Weekly PDF Report'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-1"},on:{click:function(e){return t.generateWeeklyReport()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-file-pdf")])],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Go 1 Week Backward",expression:"'Go 1 Week Backward'"}],staticClass:"mx-3 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-3"},on:{click:function(e){return t.weekGo(-1)}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-arrow-left")])],1),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Go 1 Week Forward",expression:"'Go 1 Week Forward'"}],staticClass:"mx-3 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-3"},on:{click:function(e){return t.weekGo(1)}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-arrow-right")])],1),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Change Date To Today",expression:"'Change Date To Today'"}],staticClass:"mx-3 ma-0 pa-0",attrs:{fab:"",dark:"",color:"purple darken-3"},on:{click:function(e){return t.changeToToday()}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-bookmark")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("datepicker",{staticClass:"action-list-datepicker",staticStyle:{width:"100%"},attrs:{format:"D, MMMM dth yyyy",name:"due_date"},model:{value:t.today,callback:function(e){t.today=e},expression:"today"}})],1),a("v-col",{staticStyle:{"margin-top":"10px"},attrs:{cols:"12",sm:"1"}},[a("v-switch",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Toggle tasks",expression:"'Toggle tasks'"}],attrs:{label:"Tasks"},model:{value:t.displayFilters.tasks,callback:function(e){t.$set(t.displayFilters,"tasks",e)},expression:"displayFilters.tasks"}})],1),a("v-col",{staticStyle:{"margin-top":"10px"},attrs:{cols:"12",sm:"1"}},[a("v-switch",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Toggle events",expression:"'Toggle events'"}],attrs:{label:"Events"},model:{value:t.displayFilters.events,callback:function(e){t.$set(t.displayFilters,"events",e)},expression:"displayFilters.events"}})],1)],1),a("v-row",[t.loading?t._e():a("v-sheet",{attrs:{height:"600",width:"100%"}},[a("v-calendar",{attrs:{now:t._f("moment")(t.today,"YYYY-MM-DD"),value:t._f("moment")(t.today,"YYYY-MM-DD"),events:t.computedEvents,"event-color":t.getEventColor,color:"primary",type:"week"},on:{"click:event":t.showEvent}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:t.selectedElement,"offset-x":""},model:{value:t.selectedOpen,callback:function(e){t.selectedOpen=e},expression:"selectedOpen"}},[t.selectedEvent?a("v-card",{attrs:{color:"grey lighten-4","min-width":"400px",flat:""}},[a("v-toolbar",{attrs:{color:"indigo",dark:"",dense:"",height:"40px"}},[a("v-toolbar-title",{domProps:{innerHTML:t._s(t.selectedEvent.name)}}),a("v-spacer"),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Assignment",expression:"'Edit Assignment'"}],attrs:{icon:""},on:{click:function(e){return t.openEdit(t.selectedEvent.id)}}},[a("v-icon",{attrs:{color:"info lighten-2"}},[t._v("mdi-pen")])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Generate Assignment Report",expression:"'Generate Assignment Report'"}],attrs:{icon:""},on:{click:function(e){return t.generateTaskPdf(t.selectedEvent.id)}}},[a("v-icon",{attrs:{color:"info lighten-2"}},[t._v("mdi-file-pdf")])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"View Assignment",expression:"'View Assignment'"}],attrs:{icon:""},on:{click:function(e){return t.openView(t.selectedEvent.id)}}},[a("v-icon",{attrs:{color:"info lighten-2"}},[t._v("mdi-tab")])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Assignment",expression:"'Delete Assignment'"}],attrs:{icon:""},on:{click:function(e){return t.deleteTask(t.selectedEvent.id)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[t._v("mdi-delete")])],1)],1),a("v-card-text",[a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-account")]),t._v("Author: "),a("b",[t._v(t._s(t.selectedEvent.author))])],1),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar-range")]),t._v(" "+t._s(t.selectedEvent.is_event?"Duration":"Time Complexity")+" "),a("b",[t._v(t._s(t.selectedEvent.time_complexity)+" "+t._s(t.selectedEvent.is_event?"hours":"days"))])],1),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar-today")]),t._v(" "+t._s("When:")+" "),a("b",[t._v(t._s(t._f("timediff")(t.selectedEvent.start)))])],1),t.selectedEvent.is_event?t._e():a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),t._v("Progress: "),a("b",[t._v(t._s(t.selectedEvent.progress?t.selectedEvent.progress.toFixed(2):0)+"%")]),a("v-progress-linear",{staticStyle:{"margin-top":"15px"},attrs:{color:t.gColor(t.selectedEvent.progress)},model:{value:t.selectedEvent.progress,callback:function(e){t.$set(t.selectedEvent,"progress",e)},expression:"selectedEvent.progress"}})],1)])],1):t._e()],1)],1),t.loading?a("div",{staticClass:"text-center pa-10",attrs:{width:"100%"}},[a("v-progress-circular",{attrs:{size:70,width:8,color:"indigo",indeterminate:""}})],1):t._e()],1)],1)],1)},ut=[],dt=(a("d81d"),a("c1df")),mt=a.n(dt),vt={data:function(){return{loading:!0,today:new Date,events:[],selectedEvent:{},selectedElement:null,selectedOpen:!1,displayFilters:{tasks:!0,events:!0}}},mounted:function(){this.fetchTasks()},watch:{today:function(){this.loading=!0,this.fetchTasks()}},computed:{computedEvents:function(){var t=this.events,e=this.displayFilters,a=t.filter((function(t){var a=!1;return t.is_event?e.events&&(a=!0):e.tasks&&(a=!0),a}));return a}},methods:{fetchTasks:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={start:mt()(t.today).startOf("week").format("DD/MM/YY"),end:mt()(t.today).endOf("week").add(1,"days").format("DD/MM/YY")},e.next=3,q.getMyTasksForDateRange(a);case 3:r=e.sent,200==r.status&&(t.events=r.data.map((function(t){if(t.is_event){var e=mt()(t.start).add(t.time_complexity,"hours").format("YYYY-MM-DD HH:mm");return Object(F["a"])({},t,{end:e})}var a=mt()(t.start).add(1,"hours").format("YYYY-MM-DD HH:mm");return Object(F["a"])({},t,{end:a})}))),t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},getEventColor:function(t){return t.is_event?"green darken-2":"orange darken-3"},gColor:function(t){return t<40?"red":t<70?"primary":t<90?"teal":"green"},openEdit:function(t){this.$router.push("/tasks/edit/".concat(t))},generateWeeklyReport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={start:mt()(t.today).startOf("week").format("DD/MM/YY"),end:mt()(t.today).endOf("week").add(1,"days").format("DD/MM/YY")},e.next=3,q.generateWeeklyReport(a);case 3:case"end":return e.stop()}}),e)})))()},openView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.event.preventDefault(),e?window.open("/tasks/view/".concat(t),"_blank"):this.$router.push("/tasks/view/".concat(t))},generateTaskPdf:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.generateTaskReport({id:t});case 2:case"end":return e.stop()}}),e)})))()},deleteTask:function(t){var e=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=5;break}return a.next=3,q.deleteTask(t);case 3:e.fetchTasks(),e.$swal.fire("Deleted!","The task has been deleted.","success");case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},showEvent:function(t){var e=this,a=t.nativeEvent,r=t.event,n=function(){e.selectedEvent=r,e.selectedElement=a.target,setTimeout((function(){return e.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(n,10)):n(),a.stopPropagation()},weekGo:function(t){this.today=1===t?mt()(this.today).add(7,"days").toDate():mt()(this.today).subtract(7,"days").toDate()},changeToToday:function(){this.today=mt()().toDate()}}},pt=vt,ft=a("a4f6"),gt=a("e449"),ht=a("490a"),bt=a("8e36"),kt=a("8dd9"),wt=a("b73d"),xt=Object(v["a"])(pt,lt,ut,!1,null,null,null),_t=xt.exports;f()(xt,{VBtn:J["a"],VCalendar:ft["a"],VCard:W["a"],VCardText:H["b"],VCol:Z["a"],VContainer:k["a"],VDivider:x["a"],VIcon:_["a"],VMenu:gt["a"],VProgressCircular:ht["a"],VProgressLinear:bt["a"],VRow:Q["a"],VSheet:kt["a"],VSpacer:R["a"],VSwitch:wt["a"],VToolbar:tt["a"],VToolbarTitle:O["a"]});var yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"pa-5",staticStyle:{width:"100%"}},[r("v-row",{staticClass:"action-panel",staticStyle:{"margin-bottom":"10px"}},[r("v-col",{attrs:{cols:"12",sm:"5"}},[r("v-row",{staticClass:"pa-2"},[r("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"10px 10px 0 15px"}},[r("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),r("span",[t._v(t._s(" Actions: "))])],1),r("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add New Assignment",expression:"'Add New Assignment'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-1"},on:{click:function(e){return t.$router.push("/tasks/create")}}},[r("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),r("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Open Calendar View",expression:"'Open Calendar View'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-2"},on:{click:function(e){return t.$router.push("/tasks/calendar")}}},t.on),[r("v-icon",{attrs:{dark:""}},[t._v("mdi-calendar")])],1),r("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),r("v-dialog",{attrs:{width:"30vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Generate Weekly PDF Report",expression:"'Generate Weekly PDF Report'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-1"}},a),[r("v-icon",{attrs:{dark:""}},[t._v("mdi-file-pdf")])],1)]}}]),model:{value:t.pdfDialog,callback:function(e){t.pdfDialog=e},expression:"pdfDialog"}},[r("v-card",[r("v-card-title",{staticStyle:{background:"#303f9f",color:"#eee"}},[r("span",{staticClass:"headline"},[t._v("Weekly Report")])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[r("v-alert",{attrs:{type:"warning"}},[t._v("Pick the start of the week you wan't to export")])],1)],1),r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[r("div",[r("label",{staticStyle:{color:"#555"}},[t._v("Start Date")]),r("datepicker",{staticStyle:{width:"100%"},attrs:{format:"D, MMMM dth yyyy",name:"due_date"},model:{value:t.today,callback:function(e){t.today=e},expression:"today"}})],1)])],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:function(e){t.pdfDialog=!1}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.generateWeeklyReport()}}},[t._v("Print")])],1)],1)],1),r("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),r("v-dialog",{attrs:{scrollable:"",width:"30vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[r("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Order Assignments by",expression:"'Order Assignments by'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-4"}},a),[r("v-icon",{attrs:{dark:""}},[t._v("mdi-sort")])],1)]}}]),model:{value:t.orderDialog,callback:function(e){t.orderDialog=e},expression:"orderDialog"}},[r("v-card",[r("v-card-title",{staticStyle:{background:"#303f9f",color:"#eee"}},[t._v("Change Order")]),r("v-divider"),r("v-card-text",[r("v-radio-group",{attrs:{column:""},model:{value:t.sortProperty,callback:function(e){t.sortProperty=e},expression:"sortProperty"}},t._l(t.orderOptions,(function(t,e){return r("v-radio",{key:e,attrs:{label:t.label,value:e}})})),1)],1)],1)],1)],1)],1),r("v-col",{staticStyle:{"margin-top":"10px"},attrs:{cols:"12",sm:"4"}},[r("v-text-field",{attrs:{label:"Search","append-icon":"mdi-filter"},model:{value:t.taskFilter,callback:function(e){t.taskFilter=e},expression:"taskFilter"}})],1),r("v-col",{staticStyle:{"margin-top":"10px"},attrs:{cols:"12",sm:"1"}},[r("v-switch",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Toggle tasks",expression:"'Toggle tasks'"}],attrs:{label:"Tasks"},model:{value:t.displayFilters.tasks,callback:function(e){t.$set(t.displayFilters,"tasks",e)},expression:"displayFilters.tasks"}})],1),r("v-col",{staticStyle:{"margin-top":"10px"},attrs:{cols:"12",sm:"1"}},[r("v-switch",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Toggle events",expression:"'Toggle events'"}],attrs:{label:"Events"},model:{value:t.displayFilters.events,callback:function(e){t.$set(t.displayFilters,"events",e)},expression:"displayFilters.events"}})],1)],1),r("v-row",[r("v-card",{class:{"task-list-card":!t.loading},staticStyle:{width:"100%"}},[t.loading?r("div",{staticClass:"text-center pa-10"},[r("v-progress-circular",{attrs:{size:70,width:5,color:"indigo",indeterminate:""}})],1):t.filteredTasks.length?r("v-list",{attrs:{"two-line":"",subheader:""}},t._l(t.filteredTasks,(function(e,n){return r("v-list-item",{key:n,class:{"events-list-item":e.is_event,"tasks-list-item":!e.is_event},on:{mousedown:function(a){return"button"in a&&1!==a.button?null:t.openView(e.id,!0)}}},[r("v-list-item-avatar",{staticClass:"mx-4",attrs:{size:"70"}},[r("img",{attrs:{src:a("8603"),alt:"Task"}})]),r("v-divider",{staticClass:"mx-4 ma-3",attrs:{vertical:""}}),r("v-list-item-content",{staticClass:"mx-4"},[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}}),r("v-list-item-subtitle",[r("span",[t._v(" Author: "),r("b",[t._v(t._s(e.author))])]),r("br"),r("span",[t._v(" Due: "),r("b",[t._v(t._s(t._f("moment")(e.due_date,"ddd, MMMM Do YYYY")))])])])],1),r("v-list-item-action",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[e.is_event?t._e():r("v-progress-circular",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Progress",expression:"'Progress'"}],attrs:{rotate:90,size:60,width:8,value:e.progress,color:t.gColor(e.progress)}},[t._v(t._s(e.progress?e.progress.toFixed(0):0))])],1),r("v-col",{attrs:{cols:"12",sm:"2"}},[r("v-divider",{attrs:{vertical:""}})],1),r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-row",[r("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Assignment",expression:"'Edit Assignment'"}],attrs:{icon:""},on:{click:function(a){return t.openEdit(e.id)}}},[r("v-icon",{attrs:{color:"info darken-2"}},[t._v("mdi-pen")])],1),r("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"View Assignment",expression:"'View Assignment'"}],attrs:{icon:""},on:{click:function(a){return t.openView(e.id)}}},[r("v-icon",{attrs:{color:"info darken-2"}},[t._v("mdi-tab")])],1),r("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Generate Assignment Report",expression:"'Generate Assignment Report'"}],attrs:{icon:""},on:{click:function(a){return t.generateTaskPdf(e.id)}}},[r("v-icon",{attrs:{color:"info darken-2"}},[t._v("mdi-file-pdf")])],1),r("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Assignment",expression:"'Delete Assignment'"}],attrs:{icon:""},on:{click:function(a){return t.deleteTask(e.id)}}},[r("v-icon",{attrs:{color:"red lighten-1"}},[t._v("mdi-delete")])],1)],1)],1)],1)],1)],1)})),1):t.taskFilter?r("v-alert",{staticStyle:{"margin-top":"10px"},attrs:{type:"warning"}},[t._v("None of your assignments match the filter!")]):r("v-alert",{staticStyle:{"margin-top":"10px"},attrs:{type:"warning"}},[t._v("It seems you don't have any Assignments yet... You can add your first here!")])],1)],1)],1)},Ct=[],jt=(a("caad"),a("2532"),{data:function(){return{taskFilter:"",tasks:[],today:new Date,sortProperty:null,loading:!0,orderDialog:!1,pdfDialog:!1,displayFilters:{tasks:!0,events:!0},orderOptions:[{label:"Date - Up",value:"due_date",asc:!0},{label:"Date - Down",value:"due_date",asc:!1},{label:"Alphabeticly - Up",value:"title",asc:!0},{label:"Alphabeticly - Down",value:"title",asc:!1}]}},created:function(){this.fetchMyTasks()},computed:{filteredTasks:function(){var t=this.tasks,e=this.taskFilter,a=this.sortProperty,r=this.orderOptions,n=this.displayFilters,s=t.filter((function(t){var a=t.title.toLowerCase().includes(e.toLowerCase()),r=!1;return t.is_event?n.events&&(r=!0):n.tasks&&(r=!0),a&&r}));if(a||0==a){var i=r[a],o=i.value,c=!0===i.asc?[-1,1]:[1,-1];return s.sort((function(t,e){return"due_date"==o?mt()(t[o]).diff(e[o],"minutes")<0?c[0]:c[1]:t[o]<e[o]?c[0]:c[1]}))}return s}},methods:{gColor:function(t){return t<40?"red":t<70?"primary":t<90?"teal":"green"},fetchMyTasks:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.getMyTasks();case 2:a=e.sent,t.tasks=a.data,t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},generateWeeklyReport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={start:mt()(t.today).startOf("week").format("DD/MM/YY"),end:mt()(t.today).endOf("week").add(1,"days").format("DD/MM/YY")},t.pdfDialog=!1,e.next=4,q.generateWeeklyReport(a);case 4:case"end":return e.stop()}}),e)})))()},generateTaskPdf:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.generateTaskReport({id:t});case 2:case"end":return e.stop()}}),e)})))()},openEdit:function(t){this.$router.push("/tasks/edit/".concat(t))},openView:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.event.preventDefault(),e?window.open("/tasks/view/".concat(t),"_blank"):this.$router.push("/tasks/view/".concat(t))},deleteTask:function(t){var e=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=5;break}return a.next=3,q.deleteTask(t);case 3:e.fetchMyTasks(),e.$swal.fire("Deleted!","The task has been deleted.","success");case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},printOut:function(){window.open("".concat(E["URI"],"/render/pdf"),"_blank")}}}),St=jt,Tt=a("0798"),Vt=a("169a"),Rt=a("8270"),Ot=a("67b6"),$t=a("43a6"),At=Object(v["a"])(St,yt,Ct,!1,null,null,null),Dt=At.exports;f()(At,{VAlert:Tt["a"],VBtn:J["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCardTitle:H["c"],VCol:Z["a"],VContainer:k["a"],VDialog:Vt["a"],VDivider:x["a"],VIcon:_["a"],VList:C["a"],VListItem:j["a"],VListItemAction:S["a"],VListItemAvatar:Rt["a"],VListItemContent:T["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VProgressCircular:ht["a"],VRadio:Ot["a"],VRadioGroup:$t["a"],VRow:Q["a"],VSpacer:R["a"],VSwitch:wt["a"],VTextField:X["a"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("v-form",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"0 0 0 15px"}},[t._v("General")])]),a("v-card",{staticStyle:{width:"100%","margin-bottom":"15px"}},[a("v-container",[a("v-row",[a("v-col",{staticStyle:{"margin-top":"15px"},attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{label:"Author",items:t.users,"item-value":"id","item-text":"display_as",readonly:!0},model:{value:t.form.user,callback:function(e){t.$set(t.form,"user",e)},expression:"form.user"}})],1),a("v-col",{staticStyle:{"margin-top":"15px"},attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{value:t._f("moment")(t.form.timestamp||new Date,"ddd, MMMM Do YYYY"),label:"Date Created",required:"",readonly:!0}})],1)],1),a("v-row",[a("v-col",{staticStyle:{"margin-top":"15px"},attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{disabled:!t.adminPermission(),label:"Title*",rules:t.rules,required:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("v-col",{staticStyle:{"margin-top":"15px"},attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:t.form.is_event?"Event Duration (hours)":"Time Complexity (days)",required:"",disabled:!t.adminPermission()},model:{value:t.form.time_complexity,callback:function(e){t.$set(t.form,"time_complexity",t._n(e))},expression:"form.time_complexity"}})],1),a("v-col",{staticStyle:{"margin-top":"15px"},attrs:{cols:"12",md:"4"}},[a("v-datetime-picker",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:t.form.is_event?"Event Date":"Due Date",disabled:!t.adminPermission(),requred:""},model:{value:t.form.due_date,callback:function(e){t.$set(t.form,"due_date",e)},expression:"form.due_date"}},[a("template",{slot:"dateIcon"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-calendar-today")])],1),a("template",{slot:"timeIcon"},[a("v-icon",{attrs:{left:""}},[t._v("mdi-clock")])],1)],2)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("label",[t._v("Description")]),a("tiny-mce",{attrs:{"api-key":"cfdw8uwtdyjxz965k0wctju2xsnoyj3nnncgef9gghebc16m",disabled:!t.adminPermission(),init:{menubar:!1,plugins:["autolink lists link image charmap print anchor","searchreplace code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | bold italic |                   alignleft aligncenter alignright alignjustify |                   bullist numlist outdent indent | removeformat | help"}},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-switch",{attrs:{label:"Type: "+(t.form.is_event?"Event":"Task"),disabled:!t.adminPermission()},model:{value:t.form.is_event,callback:function(e){t.$set(t.form,"is_event",e)},expression:"form.is_event"}})],1)],1),t.form.is_event?t._e():a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),t._v("Progress: "),a("b",[t._v(t._s(t.progress)+"%")]),a("v-progress-linear",{staticStyle:{"margin-top":"15px"},attrs:{color:t.gColor(t.progress)},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)])],1),a("v-row",[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:!t.valid||!t.moderatorPermission()},on:{click:function(e){return t.primarySubmit()}}},[t._v(t._s("Edit - Assignment"===t.$route.name?"Update":"Create"))]),a("v-btn",{staticClass:"ma-4",attrs:{color:"error"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")]),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Import data from json file...",expression:"'Import data from json file...'"}],staticClass:"ma-4",attrs:{disabled:!t.adminPermission(),color:"yellow darken-1"},on:{click:function(e){return t.readJsonFile()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-upload")]),t._v("Import ")],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Export form to json file...",expression:"'Export form to json file...'"}],staticClass:"ma-4",attrs:{disabled:!t.valid,color:"yellow darken-1"},on:{click:function(e){return t.exportJsonFile()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v("Export ")],1)],1)],1)],1),a("v-row",[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"0 5px 0 15px"}},[t._v(t._s(t.form.is_event?"Schedule Slots":"Subtasks"))]),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add Subtask",expression:"'Add Subtask'"}],attrs:{disabled:!t.moderatorPermission(),large:"",color:"primary",icon:""},on:{click:function(e){return t.addSubtask()}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("mdi-plus-circle")])],1)],1),a("v-card",{staticStyle:{"margin-bottom":"15px"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-simple-table",{staticStyle:{"table-layout":"fixed"},attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Title")]),t.form.is_event?t._e():a("th",{staticClass:"text-left"},[t._v("Status")]),t.form.is_event?a("th",{staticClass:"text-left"},[t._v("Description")]):t._e(),a("th",{staticClass:"text-left"},[t._v("Done By")]),t.form.is_event?t._e():a("th",{staticClass:"text-left"},[t._v("Done Date")]),a("th",{staticClass:"text-right"},[t._v("Actions")])])]),t.form.subtasks.length?a("tbody",t._l(t.form.subtasks,(function(e,r){return a("tr",{key:r},[a("td",[a("v-text-field",{staticStyle:{"margin-top":"15px"},attrs:{label:"Title*",rules:t.rules,required:"",disabled:!t.moderatorPermission()},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),t.form.is_event?a("td",[a("v-text-field",{staticStyle:{"margin-top":"15px"},attrs:{label:"Description"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"item.description"}})],1):t._e(),t.form.is_event?t._e():a("td",[a("v-select",{staticStyle:{"margin-top":"15px"},attrs:{label:"Status",items:t.statuses,"item-value":"id","item-text":"display_as",change:t.statusChanged(r),rules:[function(t){return!!t||"Item is required"}],disabled:!t.moderatorPermission()},model:{value:e.status,callback:function(a){t.$set(e,"status",a)},expression:"item.status"}})],1),a("td",[a("v-autocomplete",{staticStyle:{"margin-top":"15px"},attrs:{"item-value":"id","item-text":"display_as",items:t.doneByUserOptions,label:"User Picker",clearable:!0,disabled:!t.moderatorPermission()},model:{value:e.done_by,callback:function(a){t.$set(e,"done_by",a)},expression:"item.done_by"}})],1),t.form.is_event?t._e():a("td",[a("datepicker",{staticStyle:{width:"100%"},attrs:{format:"D, MMMM dth yyyy",name:"due_date",disabled:3!==e.status||!t.moderatorPermission()},model:{value:e.done_date,callback:function(a){t.$set(e,"done_date",a)},expression:"item.done_date"}})],1),a("td",{staticClass:"text-right"},[a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Subtask",expression:"'Delete Subtask'"}],attrs:{icon:"",disabled:!t.adminPermission()},on:{click:function(e){return t.deleteSubtask(r)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[t._v("mdi-delete")])],1)],1)])})),0):a("tbody",[a("tr",[a("td",{staticClass:"pa-3",attrs:{colspan:"5"}},[a("v-alert",{attrs:{type:"warning"}},[t._v("Currently the there are no subtasks! You can add them with the button above!")])],1)])])]},proxy:!0}])})],1)],1)],1)],1),a("v-row",[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"0 5px 0 15px"}},[t._v("Collaborators")]),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add Collaborator",expression:"'Add Collaborator'"}],attrs:{large:"",color:"primary",icon:"",disabled:!t.adminPermission()},on:{click:function(e){return t.addCollaborator()}}},[a("v-icon",{attrs:{color:"teal"}},[t._v("mdi-plus-circle")])],1)],1),a("v-card",{staticStyle:{"margin-bottom":"20vw"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-simple-table",{staticStyle:{"table-layout":"fixed"},attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Permissions")]),a("th",{staticClass:"text-right"},[t._v("Actions")])])]),t.form.taskcollaborators.length?a("tbody",t._l(t.form.taskcollaborators,(function(e,r){return a("tr",{key:r,staticStyle:{height:"50px"}},[a("td",[a("v-autocomplete",{staticStyle:{"margin-top":"15px"},attrs:{items:t.newCollaboratorOptions,"item-value":"id","item-text":"display_as",rules:[function(t){return!!t||"Item is required"}],label:"User Picker",clearable:!0,disabled:!t.adminPermission()},on:{change:function(e){return t.collaboratorChanged(r)}},model:{value:e.user,callback:function(a){t.$set(e,"user",a)},expression:"item.user"}})],1),a("td",[a("v-select",{attrs:{label:"Permissions",items:t.permissions,"item-value":"id","item-text":"display_as",rules:[function(t){return!!t||"Item is required"}],disabled:!t.adminPermission()},model:{value:e.permission,callback:function(a){t.$set(e,"permission",a)},expression:"item.permission"}})],1),a("td",{staticClass:"text-right"},[a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Subtask",expression:"'Delete Subtask'"}],attrs:{icon:"",disabled:!t.adminPermission()},on:{click:function(e){return t.deleteCollaborator(r)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[t._v("mdi-delete")])],1)],1)])})),0):a("tbody",[a("tr",[a("td",{staticClass:"pa-3",attrs:{colspan:"5"}},[a("v-alert",{attrs:{type:"warning"}},[t._v("Currently the there are no collaborators! You can add them with the button above!")])],1)])])]},proxy:!0}])})],1)],1)],1)],1)],1),"Create - Assignment"==t.$route.name||t.loading?t._e():a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Open Assignment View",expression:"'Open Assignment View'"}],attrs:{fixed:"",dark:"",fab:"",bottom:"",right:"",color:"pink"},on:{click:function(e){return t.$router.push("/tasks/view/"+t.$route.params.id)}}},[a("v-icon",[t._v("mdi-fullscreen")])],1),t.loading?a("bj-i-loading",{attrs:{loading_text:t.loadingText}}):t._e()],1)},Pt=[],Et=(a("4160"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{form:{title:"",time_complexity:"",description:"",due_date:"",is_event:!1,subtasks:[],taskcollaborators:[],user:null},edit_permissions:"partial",statuses:[],permissions:[],users:[],currentUser:null,loading:!0,valid:!0,rules:[function(t){return!!t||"Required."},function(t){return t&&t.length>=3||"Min 3 characters"}],loadingText:"The form is loading..."}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.setCurrentUser();case 2:if("Create - Assignment"!=this.$router.currentRoute.name){t.next=10;break}return t.next=5,this.currentUser.id;case 5:this.form.user=t.sent,this.form.due_date=new Date,this.edit_permissions,t.next=14;break;case 10:return t.next=12,q.getTaskData(this.$route.params.id);case 12:e=t.sent,200==e.status&&(this.form=e.data.form,this.edit_permissions=e.data.permissions,this.form.due_date=new Date(this.form.due_date));case 14:return t.next=16,this.fetchPermissions();case 16:return t.next=18,this.fetchStatuses();case 18:return t.next=20,this.fetchUsers();case 20:this.loading=!1;case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),computed:{progress:function(){if(this.form&&this.form.subtasks.length){var t=this.form.subtasks.filter((function(t){return 3==t.status})).length;return t/this.form.subtasks.length*100}return 0},doneByUserOptions:function(){var t=this.users,e=this.form,a=e.taskcollaborators.map((function(t){return t.user})),r=t.filter((function(t){return a.includes(t.id)||t.id==e.user}));return r},newCollaboratorOptions:function(){var t=this.users,e=this.form,a=t.filter((function(t){return t.id!==e.user}));return a}},methods:{setCurrentUser:function(){var t=this.$store.getters.user;t&&(this.currentUser=Object(c["a"])(t)!=Object(c["a"])({})?JSON.parse(t):t)},fetchStatuses:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.pickerRetriver("status");case 2:a=e.sent,200==a.status&&(t.statuses=a.data);case 4:case"end":return e.stop()}}),e)})))()},fetchPermissions:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.pickerRetriver("permission");case 2:a=e.sent,200==a.status&&(t.permissions=a.data);case 4:case"end":return e.stop()}}),e)})))()},fetchUsers:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.pickerRetriver("user");case 2:a=e.sent,200==a.status&&(t.users=a.data);case 4:case"end":return e.stop()}}),e)})))()},statusChanged:function(t){3!==this.form.subtasks[t].status&&delete this.form.subtasks[t].done_date},collaboratorChanged:function(t){var e=this,a=this.form.taskcollaborators;a.forEach((function(r,n){var s=r.user;s==a[t].user&&t!=n&&s&&e.$swal.fire("Error!","The user is already registered as a collaborator!","error").then((function(){e.$set(e.form.taskcollaborators[t],"user",void 0),delete e.form.taskcollaborators[t].user}))}))},gColor:function(t){return t<40?"red":t<70?"primary":t<90?"teal":"green"},addSubtask:function(){this.form.subtasks.push({status:this.statuses[0].id})},deleteSubtask:function(t){this.form.subtasks.splice(t,1)},addCollaborator:function(){this.form.taskcollaborators.push({permission:this.permissions[0].id,user:null})},deleteCollaborator:function(t){var e=this;this.form.subtasks.forEach((function(a,r){a.done_by==e.form.taskcollaborators[t].user&&delete e.form.subtasks[r].done_by})),this.form.taskcollaborators.splice(t,1)},readJsonFile:function(){var t=this,e=new FileReader,a=document.createElement("input");a.type="file",a.style.visibility="hidden",setTimeout((function(){return a.click()}),200),a.onchange=function(){var r=a.files[0];e.addEventListener("load",Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",t.form=JSON.parse(e.result));case 1:case"end":return a.stop()}}),a)}))),!1),r&&e.readAsText(r)}},exportJsonFile:function(){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.form))),t.setAttribute("download","brainjet-data-".concat(Object(L["a"])(),".json")),t.style.display="none",t.click()},adminPermission:function(){return"admin"===this.edit_permissions},moderatorPermission:function(){return["admin","partial"].includes(this.edit_permissions)},primarySubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loadingText="Proccessing Data...",t.loading=!0,"Create - Assignment"!=t.$router.currentRoute.name){e.next=9;break}return e.next=5,q.generateTask(t.form);case 5:a=e.sent,201==a.status&&(t.loading=!1,t.$swal.fire("Success!","The task was successfuly created.","success").then((function(){t.$router.push("/tasks/view/".concat(a.data.id))}))),e.next=13;break;case 9:return e.next=11,q.updateTask(t.form,t.$route.params.id);case 11:r=e.sent,200==r.status&&(t.loading=!1,t.$swal.fire("Success!","The task was successfuly updated.","success"),t.form=r.data.task_data);case 13:case"end":return e.stop()}}),e)})))()}}}),Nt=Et,Mt=a("c6a6"),Ut=a("b974"),Ft=a("1f4f"),Yt=Object(v["a"])(Nt,It,Pt,!1,null,null,null),Gt=Yt.exports;f()(Yt,{VAlert:Tt["a"],VAutocomplete:Mt["a"],VBtn:J["a"],VCard:W["a"],VCol:Z["a"],VContainer:k["a"],VForm:K["a"],VIcon:_["a"],VProgressLinear:bt["a"],VRow:Q["a"],VSelect:Ut["a"],VSimpleTable:Ft["a"],VSwitch:wt["a"],VTextField:X["a"]});var Lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"mx-auto"},[a("v-list",{attrs:{"three-line":"","max-height":"80vh","min-height":"10vh"}},[t._l(t.items,(function(e,r){return[0!=r?a("v-divider",{key:r,attrs:{inset:"true"}}):t._e(),a("v-list-item",{key:r},[a("v-list-item-avatar",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.timestamp,expression:"item.timestamp"}],style:e.senderEmail?"":"padding: 5px",attrs:{color:e.senderEmail?"transparent":"red"}},[e.senderEmail?a("img",{attrs:{src:t._f("gravatar")(e.senderEmail),alt:"Google"},on:{error:function(t){e.senderEmail=null}}}):a("span",{staticClass:"white--text headline"},[t._v(t._s(e.avatarAlt))])]),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.sender))]),a("v-list-item-subtitle",[t._v(t._s(e.message))])],1)],1)]}))],2),t.items.length?t._e():a("v-alert",{staticClass:"ma-3",attrs:{type:"info"}},[t._v("No messeges yet...")]),a("v-text-field",{staticStyle:{padding:"10px"},attrs:{label:"Send Chat","append-icon":"mdi-send",outlined:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage()},"click:append":function(e){return t.sendMessage()}},model:{value:t.chat_field,callback:function(e){t.chat_field=e},expression:"chat_field"}})],1),t.loading?a("bj-i-loading",{attrs:{loading_text:"Retriving chat data..."}}):t._e()],1)},qt=[],Bt=a("2909"),zt={data:function(){return{items:[],chat_field:"",loading:!0}},created:function(){this.getMessages()},methods:{getMessages:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.getOrCreateChat(t.$route.params.id);case 2:a=e.sent,200==a.status&&(t.items=a.data.map((function(t){return Object(F["a"])({},t,{timestamp:"sent "+mt()(new Date(t.timestamp)).fromNow()})})).reverse(),t.loading=!1),setTimeout((function(){t.getNewMessages()}),1e3);case 5:case"end":return e.stop()}}),e)})))()},sendMessage:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.chat_field){e.next=2;break}return e.abrupt("return");case 2:return a=t.chat_field,t.chat_field="",e.next=6,q.sendMessage({message:a},t.$route.params.id);case 6:r=e.sent,console.log(r);case 8:case"end":return e.stop()}}),e)})))()},getNewMessages:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$route.params.id){e.next=2;break}return e.abrupt("return");case 2:return a=t.items.length||0,e.next=5,q.retriveNewMessages({count:a,isZero:0==a},t.$route.params.id);case 5:r=e.sent,200==r.status&&(s=r.data.map((function(t){return Object(F["a"])({},t,{timestamp:"sent "+mt()(new Date(t.timestamp)).fromNow()})})).reverse(),(n=t.items).push.apply(n,Object(Bt["a"])(s)),setTimeout((function(){t.getNewMessages()}),500));case 7:case"end":return e.stop()}}),e)})))()}}},Jt=zt,Wt=Object(v["a"])(Jt,Lt,qt,!1,null,null,null),Ht=Wt.exports;f()(Wt,{VAlert:Tt["a"],VCard:W["a"],VDivider:x["a"],VList:C["a"],VListItem:j["a"],VListItemAvatar:Rt["a"],VListItemContent:T["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VTextField:X["a"]});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("h2",{staticClass:"display-1 font-weight-light"},[t._v(t._s(t.loggedInThroughGoogle?"Google ":"New ")+"Credentials")]),a("v-card",{staticStyle:{"margin-bottom":"20px"}},[a("v-container",[t.loggedInThroughGoogle?a("v-row",[a("v-alert",{staticClass:"ma-5",staticStyle:{width:"100%"},attrs:{type:"info"}},[t._v("This account is registered through google... Due to this reason you can't edit anything!")])],1):t._e(),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Name",disabled:t.loggedInThroughGoogle,required:""},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1),a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Surname",disabled:t.loggedInThroughGoogle,required:""},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:t.loggedInThroughGoogle?"User Id":"Username",disabled:t.loggedInThroughGoogle,required:""},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],disabled:t.loggedInThroughGoogle,label:"Email",required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),a("v-row",[a("v-col",[a("v-icon",[t._v("mdi-image")]),a("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"https://en.gravatar.com",target:"_blank"}},[t._v("Edit your profile image on Gravatar!")])],1)],1),t.loggedInThroughGoogle?a("v-row",[a("v-col",[a("v-icon",[t._v("mdi-google")]),a("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"https://myaccount.google.com",target:"_blank"}},[t._v("Edit your account details through Google!")])],1)],1):t._e(),t.loggedInThroughGoogle?t._e():a("v-row",[a("v-col",[a("v-text-field",{attrs:{disabled:t.loggedInThroughGoogle,type:"password",label:"New Password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1)],1)],1),t.loggedInThroughGoogle?t._e():a("div",[a("h2",{staticClass:"display-1 font-weight-light"},[t._v("Confirm Old Credentials")]),a("v-card",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],label:"Username",required:""},model:{value:t.user.old_username,callback:function(e){t.$set(t.user,"old_username",e)},expression:"user.old_username"}})],1)],1),a("v-row",[a("v-col",[a("v-text-field",{attrs:{rules:[function(t){return!!t||"Item is required"}],type:"password",label:"Password",required:""},model:{value:t.user.old_password,callback:function(e){t.$set(t.user,"old_password",e)},expression:"user.old_password"}})],1)],1),a("v-row",[a("v-btn",{staticClass:"ma-4",attrs:{color:"primary",disabled:!t.valid||t.loggedInThroughGoogle},on:{click:function(e){return t.updateAuth()}}},[t._v("Update")]),a("v-btn",{staticClass:"ma-4",attrs:{color:"error"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)},Kt=[],Qt={data:function(){return{user:{},valid:!0,loggedInThroughGoogle:!1}},created:function(){this.getUserFromStore(),this.user.old_username=this.user.username,this.user.password=""},methods:{getUserFromStore:function(){var t=JSON.stringify(this.$store.getters.user);while(Object(c["a"])(t)!=Object(c["a"])({}))t=JSON.parse(t);this.user=t,this.loggedInThroughGoogle=!!this.user.isGoogleAuth||!1},updateAuth:function(){var t=this;this.$store.dispatch("updateUser",this.user).then((function(e){t.$swal.fire("Success!",e.data.message,"success").then((function(){t.$router.go(0)}))}))}}},Xt=Qt,te=Object(v["a"])(Xt,Zt,Kt,!1,null,null,null),ee=te.exports;f()(te,{VAlert:Tt["a"],VBtn:J["a"],VCard:W["a"],VCol:Z["a"],VContainer:k["a"],VForm:K["a"],VIcon:_["a"],VRow:Q["a"],VTextField:X["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{width:"100%"}},[a("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"pa-5 task-view-container",staticStyle:{"margin-bottom":"20vw"}},[a("v-row",{staticClass:"action-panel",staticStyle:{"margin-bottom":"10px"}},[a("v-col",{attrs:{cols:"12",sm:"7"}},[a("v-row",{staticClass:"pa-2"},[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{margin:"10px 10px 0 15px"}},[a("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),a("span",[t._v(t._s(" Actions: "))])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Add New Assignment",expression:"'Add New Assignment'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-1"},on:{click:function(e){return t.$router.push("/tasks/create")}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("v-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Edit Assignment",expression:"'Edit Assignment'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-1"},on:{click:function(e){return t.$router.push("/tasks/edit/"+t.$route.params.id)}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-pen")])],1),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Open Assignment Chat",expression:"'Open Assignment Chat'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"teal darken-2"},on:{click:function(e){return t.$router.push("/chats/"+t.$route.params.id)}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-chat")])],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Generate PDF Assignment Report",expression:"'Generate PDF Assignment Report'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"orange darken-4"},on:{click:function(e){return t.generateTaskPdf(t.$route.params.id)}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-file-pdf")])],1),a("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),a("v-btn",t._g({directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete Assignment",expression:"'Delete Assignment'"}],staticClass:"mx-4 ma-0 pa-0",attrs:{fab:"",dark:"",color:"red"},on:{click:function(e){return t.deleteTask(t.$route.params.id)}}},t.on),[a("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1)],1)],1)],1),a("v-row",[a("v-card",{staticClass:"pa-5",staticStyle:{width:"100%"}},[a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-label")]),t._v("Title: "),a("b",[t._v(t._s(t.task.title))])],1),a("v-divider",{staticClass:"mx-4"}),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-account")]),t._v("Author: "),a("b",[t._v(t._s(t.task.author))])],1),a("v-divider",{staticClass:"mx-4"}),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar-today")]),t._v("Date Created: "),a("b",[t._v(t._s(t._f("moment")(t.task.timestamp,"ddd, MMMM Do YYYY")))])],1),a("v-divider",{staticClass:"mx-4"}),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar")]),t._v(" "+t._s(t.task.is_event?"Event Date":"Due Date")+" "),a("b",[t._v(t._s(t._f("moment")(t.task.due_date,"ddd, MMMM Do YYYY")))])],1),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar-range")]),t._v(" "+t._s(t.task.is_event?"Duration:":"Time Complexity:")+" "),a("b",[t._v(t._s(t.task.time_complexity)+" "+t._s(t.task.is_event?"hours:":"days:"))])],1),t.task.is_event?t._e():a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),t._v("Progress: "),a("b",[t._v(t._s(t.progress)+"%")]),a("v-progress-linear",{staticStyle:{"margin-top":"15px"},attrs:{color:t.gColor(t.progress)},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),t.task.description?a("div",[a("v-divider",{staticClass:"mx-4"}),a("h3",{staticClass:"pa-2 body-1 font-weight-light"},[a("v-dialog",{attrs:{width:"50vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{color:"info darken-2",small:"",dark:""}},r),[t._v("View Description")])]}}],null,!1,3356452680),model:{value:t.descDialog,callback:function(e){t.descDialog=e},expression:"descDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline indigo white-text",attrs:{"primary-title":""}},[t._v(t._s(t.task.title)+" - Description")]),a("v-card-text",{staticClass:"pa-5",staticStyle:{"min-height":"150px"},domProps:{innerHTML:t._s(t.task.description)}}),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.descDialog=!1}}},[t._v("Close")])],1)],1)],1)],1)],1):t._e()],1),t.task.collaborators.length?a("v-card",{staticClass:"pa-5",staticStyle:{width:"100%","margin-top":"15px"}},[a("h2",{staticClass:"pa-2 body-1 font-weight-light",staticStyle:{margin:"10px 10px 0 0"}},[a("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-contacts")]),a("span",[t._v(t._s(" Collaborators: "))])],1),a("v-simple-table",{staticClass:"no-hover",attrs:{"fixed-header":"","max-height":"300px"},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left",staticStyle:{"background-color":"#eee"}},[t._v("Fullname")]),a("th",{staticClass:"text-left",staticStyle:{"background-color":"#eee"}},[t._v("Permissions")])])]),a("tbody",t._l(t.task.collaborators,(function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(e.user))]),a("td",[t._v(t._s(e.permissions))])])})),0)]},proxy:!0}],null,!1,2562352935)})],1):t._e(),t.task.subtasks.length?a("v-card",{staticClass:"pa-5",staticStyle:{width:"100%","margin-top":"15px"}},[a("h2",{staticClass:"pa-2 headline font-weight-light",staticStyle:{margin:"10px 10px 0 0"}},[a("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-tab")]),a("span",[t._v(t._s(t.task.is_event?" Schedule Slots: ":" Subtasks: "))])],1),a("v-expansion-panels",{staticClass:"pa-2"},t._l(t.task.subtasks,(function(e,r){return a("v-expansion-panel",{key:r},[a("v-expansion-panel-header",[a("h3",{staticClass:"body-1 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-label")]),a("b",[t._v(t._s(e.title))])],1)]),a("v-expansion-panel-content",[a("v-divider",{staticClass:"mx-4"}),t.task.is_event?t._e():a("h3",{staticClass:"mx-4 pa-2 body-2 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-wrench")]),t._v("Status: "),a("b",[t._v(t._s(e.status))])],1),a("v-divider",{staticClass:"mx-4"}),a("h3",{staticClass:"mx-4 pa-2 body-2 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-account")]),t._v("Worker: "),a("b",[t._v(t._s(e.worker))])],1),a("h3",{staticClass:"mx-4 pa-2 body-2 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-account")]),t._v("Description: "),a("b",[t._v(t._s(e.description))])],1),a("v-divider",{staticClass:"mx-4"}),t.task.is_event?t._e():a("h3",{staticClass:"mx-4 pa-2 body-2 font-weight-light"},[a("v-icon",{staticStyle:{"margin-right":"10px"},attrs:{color:"grey darken-3"}},[t._v("mdi-calendar")]),t._v("Done Date: "),e.done_date?a("b",[t._v(t._s(t._f("moment")(e.done_date,"ddd, MMMM Do YYYY")))]):t._e()],1)],1)],1)})),1)],1):t._e()],1)],1),t.loading?a("bj-i-loading",{attrs:{loading_text:"We are retriving assignment data..."}}):t._e()],1)},re=[],ne=(a("b680"),{data:function(){return{task:{},loading:!0,descDialog:!1}},created:function(){this.fetchTaskDetails()},computed:{progress:function(){if(this.task&&this.task.subtasks.length){var t=this.task.subtasks.filter((function(t){return 3==t.status_id})).length;return(t/this.task.subtasks.length*100).toFixed(2)}return 0}},methods:{fetchTaskDetails:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.getTaskDetails(t.$route.params.id);case 2:a=e.sent,200==a.status?(t.task=a.data,t.loading=!1):t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},gColor:function(t){return t<40?"red":t<70?"primary":t<90?"teal":"green"},deleteTask:function(t){var e=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(r){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!r.value){a.next=4;break}return a.next=3,q.deleteTask(t);case 3:e.$swal.fire("Deleted!","The task has been deleted.","success").then((function(){e.$router.push("/tasks/list")}));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())},generateTaskPdf:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q.generateTaskReport({id:t});case 2:case"end":return e.stop()}}),e)})))()}}}),se=ne,ie=a("cd55"),oe=a("49e2"),ce=a("c865"),le=a("0393"),ue=Object(v["a"])(se,ae,re,!1,null,null,null),de=ue.exports;f()(ue,{VBtn:J["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCardTitle:H["c"],VCol:Z["a"],VContainer:k["a"],VDialog:Vt["a"],VDivider:x["a"],VExpansionPanel:ie["a"],VExpansionPanelContent:oe["a"],VExpansionPanelHeader:ce["a"],VExpansionPanels:le["a"],VIcon:_["a"],VProgressLinear:bt["a"],VRow:Q["a"],VSimpleTable:Ft["a"],VSpacer:R["a"]});var me=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"no-back-wrapper"},[r("div",{staticClass:"no-back-container login-form"},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"2"}}),r("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[r("v-form",{ref:"form",staticStyle:{width:"100%"},attrs:{align:"center",justify:"center"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card",{staticClass:"elevation-0 base-form-card",staticStyle:{"margin-bottom":"20px"}},[r("v-toolbar",{attrs:{color:"transparent",dark:"",flat:""}},[r("v-toolbar-title",[t._v("Reset Password")]),r("v-spacer")],1),r("v-card-text",[r("v-text-field",{attrs:{label:"Password",name:"password",type:"password",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),r("v-text-field",{attrs:{label:"Confirm Password",name:"conf_password",type:"password",rules:[function(t){return!!t||"Item is required"}]},model:{value:t.form.confirm_password,callback:function(e){t.$set(t.form,"confirm_password",e)},expression:"form.confirm_password"}})],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"indigo white-text"},on:{click:function(e){return t.submit()}}},[t._v("Submit")])],1)],1)],1),r("v-img",{attrs:{src:a("b68a"),"aspect-ratio":"2.26"}})],1)],1)],1),t._m(0),t.loading?r("bj-loading"):t._e()],1)},ve=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"no-back-credits white-text pa-3"},[a("small",[t._v("© 2020 ( Brina Jehart & Janez Sedeljsak )")])])}],pe={data:function(){return{form:{password:"",confirm_password:""},loading:!1,valid:!0}},methods:{submit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.valid){e.next=3;break}return t.$swal.fire("Fill out the form!","...","warning"),e.abrupt("return");case 3:if(a=t.form,a.password===a.confirm_password){e.next=7;break}return t.$swal.fire("Error!","The passwords do not match","warning"),e.abrupt("return");case 7:return e.next=9,q.updatePassword({password:a.password,uuid:t.$route.params.uuid});case 9:r=e.sent,200==r.status&&t.$swal.fire("Success!",r.data.message,"success").then((function(){t.$router.push("/login")}));case 11:case"end":return e.stop()}}),e)})))()}}},fe=pe,ge=Object(v["a"])(fe,me,ve,!1,null,null,null),he=ge.exports;f()(ge,{VBtn:J["a"],VCard:W["a"],VCardActions:H["a"],VCardText:H["b"],VCol:Z["a"],VForm:K["a"],VImg:y["a"],VRow:Q["a"],VSpacer:R["a"],VTextField:X["a"],VToolbar:tt["a"],VToolbarTitle:O["a"]}),r["a"].use(n["a"]);var be=new n["a"]({mode:"history",routes:[{path:"/login",name:"Sign In",component:at},{path:"/register",name:"Sign Up",component:ct},{path:"/forgot-pass/:uuid",name:"Forgot Password",component:he},{path:"/tasks/calendar",name:"Assignment - Calendar",component:_t,meta:{requiresAuth:!0}},{path:"/tasks/list",name:"Assignment - List",component:Dt,meta:{requiresAuth:!0}},{path:"/tasks/edit/:id",name:"Edit - Assignment",component:Gt,meta:{requiresAuth:!0}},{path:"/tasks/create",name:"Create - Assignment",component:Gt,meta:{requiresAuth:!0}},{path:"/tasks/view/:id",name:"View - Assignment",component:de,meta:{requiresAuth:!0}},{path:"/chats/:id",name:"Chat",component:Ht,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:ee,meta:{requiresAuth:!0}},{path:"*",redirect:"/tasks/list"}]});be.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(N.getters.isLoggedIn)return void a();a("/login")}else a()}));var ke=be,we=a("f309");r["a"].use(we["a"]);var xe=new we["a"]({}),_e=a("2ead"),ye=a.n(_e),Ce=a("5886"),je=(a("4413"),a("e37d")),Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-wrapper"},[a("div",{staticClass:"text-center"},[a("v-progress-circular",{attrs:{size:70,width:7,color:"purple",indeterminate:""}})],1)])},Te=[],Ve={},Re=Ve,Oe=Object(v["a"])(Re,Se,Te,!1,null,null,null),$e=Oe.exports;f()(Oe,{VProgressCircular:ht["a"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticStyle:{height:"100vh"},attrs:{"fill-height":"",fluid:""}},[a("v-row",{staticClass:"text-center",staticStyle:{"margin-bottom":"10vw"},attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",staticStyle:{width:"100%"}},[a("v-row",{staticClass:"text-center",staticStyle:{"margin-bottom":"20px"},attrs:{align:"center",justify:"center"}},[a("div",{staticClass:"custom-loading-scoped"},[a("span",{staticClass:"loading-block"}),a("span",{staticClass:"loading-block"}),a("span",{staticClass:"loading-block"}),a("span",{staticClass:"loading-block"})])]),a("v-row",{staticClass:"text-center",attrs:{align:"center",justify:"center"}},[a("h2",{staticClass:"display-1 font-weight-light",staticStyle:{color:"#657"}},[t._v(t._s(t.loading_text))])])],1)],1)],1)},De=[],Ie={props:["loading_text"]},Pe=Ie,Ee=(a("5c68"),Object(v["a"])(Pe,Ae,De,!1,null,"15de823e",null)),Ne=Ee.exports;f()(Ee,{VCol:Z["a"],VContainer:k["a"],VRow:Q["a"]});var Me=a("ca72"),Ue=a("fa33"),Fe=a("c9bf"),Ye=a("ad24");r["a"].prototype.$http=P.a;var Ge=localStorage.getItem("token");Ge&&(r["a"].prototype.$http.defaults.headers.common["Authorization"]="Token ".concat(Ge)),r["a"].config.productionTip=!1;var Le={clientId:"563233502342-gbc17b6hsrd9vm2vgsfo037geg83v79c.apps.googleusercontent.com"};r["a"].use(Fe["a"],Le),r["a"].use(n["a"]),r["a"].use(ye.a),r["a"].use(je["a"]),r["a"].use(Ce["a"]),r["a"].use(Ye["a"]),r["a"].filter("fullname",(function(t){return t?t.first_name+" "+t.last_name:""})),r["a"].filter("genavatar",(function(t){return t?t.first_name[0]+t.last_name[0]:""})),r["a"].filter("timediff",(function(t){return String(mt()(t).fromNow())})),r["a"].filter("gravatar",(function(t){return"http://www.gravatar.com/avatar/".concat(u()(t),".jpg?s=80&d=undefined")})),r["a"].component("bj-loading",$e),r["a"].component("tiny-mce",Me["a"]),r["a"].component("datepicker",Ue["a"]),r["a"].component("bj-i-loading",Ne),new r["a"]({vuetify:xe,router:ke,store:N,render:function(t){return t(A)}}).$mount("#app")},"5c68":function(t,e,a){"use strict";var r=a("1042"),n=a.n(r);n.a},8603:function(t,e,a){t.exports=a.p+"img/task.fddae056.jpg"},"8a23":function(t,e,a){},b68a:function(t,e,a){t.exports=a.p+"img/logo-dark.37fb62ec.png"},bf57:function(t,e,a){var r="https://brainjet-api.herokuapp.com";t.exports={URI:r}},da53:function(t,e,a){t.exports=a.p+"img/logo-light.581a3729.png"},eebb:function(t,e,a){t.exports=a.p+"img/google-logo.1d46700a.png"}});
//# sourceMappingURL=app.a382a5a3.js.map